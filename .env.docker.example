# Docker Environment Configuration for Aelus Aether MCP
# Copy this file to .env and configure your settings

# ============================================================================
# Server Configuration
# ============================================================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# MCP Transport
# sse = HTTP+SSE for n8n (default for Docker)
# stdio = Standard IO for Claude Desktop
MCP_TRANSPORT=sse

# ============================================================================
# CORS Configuration
# ============================================================================
# For n8n integration, set to your n8n URL
# Example: https://n8n.yourdomain.com
CORS_ORIGINS=*

# ============================================================================
# Repository Path
# ============================================================================
# Path to your code repositories to analyze
# This will be mounted as a volume in the container
REPOS_PATH=/path/to/your/repositories

# Optional: Custom config file path
# CONFIG_PATH=./config.yaml

# ============================================================================
# Voyage AI Configuration (Phase 3 & 4)
# ============================================================================
# Get your API key from: https://www.voyageai.com/

# Embedding Configuration
MCP_EMBEDDING_ENABLED=true
MCP_EMBEDDING_PROVIDER=voyage
VOYAGE_API_KEY=your-voyage-api-key-here
VOYAGE_BASE_URL=https://api.voyageai.com
VOYAGE_CONCURRENCY=4
VOYAGE_MAX_BATCH_SIZE=128
VOYAGE_INPUT_TYPE=document

# Re-ranker Configuration (Phase 4)
MCP_RERANKER_ENABLED=true
MCP_RERANKER_MODEL=rerank-2
MCP_RERANKER_DEFAULT_TOP_K=20
MCP_SEMANTIC_USE_RERANKER=true

# ============================================================================
# Database Configuration
# ============================================================================
# These paths are relative to the container filesystem
# Volumes handle the persistence
MCP_DB_PATH=/app/data/graph.db
MCP_SERVER_DIR=/app/repos

# ============================================================================
# Optional: n8n Configuration (if deploying alongside)
# ============================================================================
# N8N_HOST=localhost
# N8N_PORT=5678
# WEBHOOK_URL=http://localhost:5678/
# TIMEZONE=UTC

# ============================================================================
# Performance Tuning (Optional)
# ============================================================================
# Adjust based on your server capacity
# DOCKER_CPU_LIMIT=2.0
# DOCKER_MEMORY_LIMIT=4G
